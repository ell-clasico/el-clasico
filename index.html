<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>HalÄ± Saha PRO â€“ V16 Final</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<!-- Upload.io -->
<script src="https://js.upload.io/upload-js/v2"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<!-- CSS --->
<link rel="stylesheet" href="style.css">

</head>
<body>

<!-- GLOBAL BÄ°LDÄ°RÄ°M -->
<div id="notify" class="notify">Kaydedildi</div>

<div class="bg"></div>

<!-- LOGIN -->
<!-- LOGIN -->
<div id="login" class="page active login-box">
    <h2>GiriÅŸ Yap</h2>

    <!-- CUSTOM LOGIN SELECT -->
    <div class="custom-select" id="loginUserSelect" data-id="loginUser">
        <div class="custom-display">KullanÄ±cÄ± SeÃ§</div>
        <div class="custom-options"></div>
    </div>

    <button class="btn" onclick="login()">GiriÅŸ Yap</button>

    <div class="login-divider"></div>

    <input id="adminPass" type="password" placeholder="Admin Åžifre">
    <button class="btn" onclick="adminLogin()">Admin GiriÅŸi</button>
</div>




<!-- NAVIGATION -->
<div id="navbar" class="nav" style="display:none;">

    <!-- Profil sadece kullanÄ±cÄ±ya gÃ¶sterilecek -->
    <button id="profilBtn" class="nav-btn" onclick="showPage('profilim')">Profilim</button>
    <button class="nav-btn" onclick="showPage('oyuncular')">Oyuncular</button>
	<button class="nav-btn" onclick="showPage('haftaninKadro')">HaftanÄ±n Kadrosu</button>
    <button class="nav-btn" onclick="showPage('puan')">Puan Ver</button>
    <button class="nav-btn" onclick="showPage('gecmis')">Puan GeÃ§miÅŸi</button>
    <button class="nav-btn" onclick="showPage('golKr')">Gol KrallÄ±ÄŸÄ±</button>
    <button class="nav-btn" onclick="showPage('kazananlar')">Kazananlar</button>
    <button class="nav-btn" onclick="showPage('eniyi')">En Ä°yi Oyuncular</button>

    <!-- Adminâ€™e Ã¶zel -->
	<button id="kadroBtn" class="nav-btn" onclick="showPage('kadro')">Kadro DÃ¼zenleme</button>
    <button id="adminBtn" class="nav-btn admin-only" style="display:none;" onclick="showPage('admin')">Admin Paneli</button>
    <button id="gaBtn" class="nav-btn admin-only" style="display:none;" onclick="showPage('gaYonetim')">Gol YÃ¶netimi</button>
    <button id="winBtn" class="nav-btn admin-only" style="display:none;" onclick="showPage('kazananYonetim')">Kazanan YÃ¶netimi</button>

    <!-- Ã‡Ä±kÄ±ÅŸ -->
    <button class="nav-btn logout-btn" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
</div>

<!-- PROFÄ°L EKRANI -->
<div id="profilim" class="page active">
    <h2>Profilim</h2>

    <div class="profil-box">

        <!-- --- SOL TARAF (FUT KART + FOTO GÃœNCELLEME) --- -->
        <div class="profil-left">

    <div class="fut-card">

    <img class="fut-bg" src="https://i.hizliresim.com/j07s1f1.png">

    <div class="fut-top">
        <div class="fut-ovr" id="fifa-overall">0</div>
        <div class="fut-pos" id="fifa-position">-</div>
    </div>

  

    <div class="fut-name" id="fifa-name">OYUNCU</div>

    <div class="fut-stats">
        <div><b id="fifa-hiz"></b> HIZ</div>
        <div><b id="fifa-sut"></b> ÅžUT</div>
        <div><b id="fifa-pas"></b> PAS</div>
        <div><b id="fifa-kondisyon"></b> KON</div>
        <div><b id="fifa-defans"></b> DEF</div>
        <div><b id="fifa-fizik"></b> FÄ°Z</div>
    </div>

</div>


   <div class="photo-actions">

    <input id="profilUpload" type="file" accept="image/*" hidden>

    <button id="selectFileBtn" class="btn">
        FotoÄŸraf SeÃ§
    </button>

    <button class="btn" onclick="updatePhoto()">
        FotoÄŸrafÄ± GÃ¼ncelle
    </button>

</div>

</div>


        <!-- --- SAÄž TARAF (MEVKÄ° SEÃ‡Ä°M) --- -->
        <div class="profil-right">
            <div class="fm-wrapper">

                <div class="fm-field">
                    <div class="fm-card" data-pos="ST" data-name="Santrafor">Santrafor</div>
                    <div class="fm-card" data-pos="CM" data-name="Merkez Orta">Merkez Orta</div>
                    <div class="fm-card" data-pos="LW" data-name="Sol Kanat">Sol Kanat</div>
                    <div class="fm-card" data-pos="RW" data-name="SaÄŸ Kanat">SaÄŸ Kanat</div>
                    <div class="fm-card" data-pos="LB" data-name="Sol Bek">Sol Bek</div>
                    <div class="fm-card" data-pos="CB" data-name="Stoper">Stoper</div>
                    <div class="fm-card" data-pos="RB" data-name="SaÄŸ Bek">SaÄŸ Bek</div>
                    <div class="fm-card" data-pos="GK" data-name="Kaleci">Kaleci</div>
                </div>

                <div class="fm-selection">
                    <div class="fm-input-group">
                        <label>AsÄ±l Mevki</label>
                        <input id="mainPos" readonly>
                    </div>

                    <div class="fm-input-group">
                        <label>Yedek Mevki</label>
                        <input id="subPos" readonly>
                    </div>

                    <button class="btn" onclick="savePositions()">Mevkileri Kaydet</button>
                </div>

            </div>
        </div>

    </div>
</div>












<!-- OYUNCULAR -->
<div id="oyuncular" class="page">
    <h2>Oyuncular</h2>
    <div id="oyuncuListe" class="card-grid"></div>
	<div id="rateModal" class="modal">
    <div class="modal-content">

        <h2 id="ratePlayerName"></h2>

        <label>Åžut</label>
        <input type="number" id="rate-sut" min="0" max="100">

        <label>Pas</label>
        <input type="number" id="rate-pas" min="0" max="100">

        <label>Kondisyon</label>
        <input type="number" id="rate-kond" min="0" max="100">

        <label>HÄ±z</label>
        <input type="number" id="rate-hiz" min="0" max="100">

        <label>Fizik</label>
        <input type="number" id="rate-fizik" min="0" max="100">

        <label>Defans</label>
        <input type="number" id="rate-def" min="0" max="100">

        <label>Oyun GÃ¶rÃ¼ÅŸÃ¼</label>
        <input type="number" id="rate-oyunGorusu" min="0" max="100">

        <button id="saveRating">Kaydet</button>
        <button onclick="closeRatePanel()">Kapat</button>
    </div>
</div>
</div>



<!-- SAYFA KAPANIÅž / AÃ‡ILIÅž SÄ°STEMÄ° Ä°Ã‡Ä°N GEREKEN DOÄžRU YAPI -->
<div id="haftaninKadro" class="page">

    <div class="haftaninLayout">

        <!-- SOL: A TakÄ±mÄ± -->
        <div class="teamBox leftBox">
            <h3>A TakÄ±mÄ±</h3>
            <div id="haftaTeamA" class="hk-list"></div>
        </div>

        <!-- ORTA: SAHA -->
        <div class="fieldCenter">
            <div id="fieldContainer">
                <img src="https://i.hizliresim.com/272vnxd.jpg" id="fieldImg">
                <div id="playersOnField"></div>
				<!-- ðŸ“Œ HAFTA NOTU GÃ–STERÄ°M ALANI -->
<div id="weekNoteBox"
     style="
        display:none;
        width:100%;
        margin:20px 0;
        padding:15px;
        background:rgba(255,255,255,0.08);
        border: 3px solid #a347ff;
        color:white;
        font-size:17px;
        border-radius:6px;
        backdrop-filter: blur(4px);
		text-align: center;
		text-shadow: 0 0 4px black;
		font-weight: bold;
     ">
</div>

            </div>
        </div>

        <!-- SAÄž: B TakÄ±mÄ± -->
        <div class="teamBox rightBox">
            <h3>B TakÄ±mÄ±</h3>
            <div id="haftaTeamB" class="hk-list"></div>
        </div>

    </div>
	<div id="userAttendancePanel" style="margin-top:20px;">
    <h3>Bu Hafta MaÃ§a Geliyor musun?</h3>
    <div id="comingBox" class="coming-container">
        <label class="switch">
            <input type="checkbox" id="comingCheck">
            <span class="slider"></span>
        </label>

        <span class="comingText">MaÃ§a geliyorum</span>

        <div id="comingStatus" class="coming-status"></div>
    </div>
   <button id="comingSaveBtn" class="btn">Kaydet</button>
</div>





</div>







<!-- KADRO OLUÅžTUR -->
<div id="kadro" class="page">
    <h2>Kadro OluÅŸtur</h2>

    <div class="kadroWidget">

        <label>MaÃ§a Gelecek 16 Oyuncu</label>
<div id="kadroPlayerGrid" class="player-grid"></div>


        <div class="gkRow">
            <label>A TakÄ±mÄ± Kalecisi</label>
<div class="custom-select" id="gkASelect" data-id="gkA">
    <div class="custom-display">Kaleci SeÃ§</div>
    <div class="custom-options"></div>
</div>


            <label>B TakÄ±mÄ± Kalecisi</label>
<div class="custom-select" id="gkBSelect" data-id="gkB">
    <div class="custom-display">Kaleci SeÃ§</div>
    <div class="custom-options"></div>
</div>

        </div>

        <button id="buildBtn">KADROYU OLUÅžTUR</button>
<div style="margin-bottom:15px;">
    <label style="color:white; font-size:16px;">Bu HaftanÄ±n Notu:</label>
    <input id="weekNoteInput" 
           type="text" 
           placeholder="Ã–rn: Bu hafta maÃ§ 22:00'da baÅŸlayacak."
           style="
                width:100%;
                padding:10px;
                border-radius:6px;
                border:none;
                margin-top:5px;
                background:rgba(255,255,255,0.15);
                color:white;
           ">
</div>

<button class="btn danger" onclick="resetWeek()" style="margin-top:20px;">
    Yeni Hafta BaÅŸlat
</button>


    </div>
</div>



<!-- PUAN VER -->
<div id="puan" class="page">
    <h2>Puan Ver</h2>

    <div class="custom-select" data-id="puanTarget">
        <div class="custom-display">Oyuncu SeÃ§</div>
        <div class="custom-options"></div>
    </div>

    <input id="puanValue" type="number" placeholder="Puan (1â€“10)">
    <button class="btn" onclick="puanGonder()">GÃ¶nder</button>
</div>


<!-- GEÃ‡MÄ°Åž -->
<div id="gecmis" class="page">
    <h2>Puan GeÃ§miÅŸi</h2>
    <ul id="gecmisList"></ul>
</div>


<!-- GOL KRALLIÄžI -->
<div id="golKr" class="page">
    <h2>Gol KrallÄ±ÄŸÄ±</h2>
    <div id="golList" class="kr-list"></div>
</div>





<!-- KAZANANLAR -->
<div id="kazananlar" class="page">
    <h2>En Ã‡ok Kazananlar</h2>
    <div id="kazananList" class="kr-list"></div>
</div>


<!-- EN Ä°YÄ° OYUNCULAR -->
<div id="eniyi" class="page">
    <h2>En Ä°yi Oyuncular</h2>
    <div id="eniyiList" class="kr-list"></div>
</div>


<!-- ADMIN PANELÄ° -->
<div id="admin" class="page">
    <h2>Admin Paneli</h2>

    <h3>Oyuncu Ekle</h3>
    <input id="newPlayerName" placeholder="Oyuncu AdÄ±">
    <input id="newPlayerPhoto" type="file" accept="image/*">
    <button class="btn" onclick="addPlayer()">Oyuncu Ekle</button>

    <h3>Oyuncu Sil</h3>

    <div class="custom-select" data-id="deleteUser">
        <div class="custom-display">Oyuncu SeÃ§</div>
        <div class="custom-options"></div>
    </div>

    <button class="btn" onclick="deletePlayer()">Sil</button>

    <h3>TÃ¼m PuanlarÄ± SÄ±fÄ±rla</h3>
    <button class="btn danger" onclick="resetAllPoints()">PuanlarÄ± SÄ±fÄ±rla</button>
	<div id="loginLogsSection" style="margin-top:20px;">
    <h2>ðŸ“Œ Login KayÄ±tlarÄ±</h2>

    <table class="log-table">
        <thead>
            <tr>
                <th>KullanÄ±cÄ±</th>
                <th>Tarih</th>
                <th>Saat</th>
            </tr>
        </thead>
        <tbody id="loginLogsTable"></tbody>
    </table>
</div>

</div>


<!-- GOL / ASÄ°ST YÃ¶netimi -->
<div id="gaYonetim" class="page">
    <h2>Gol YÃ¶netimi</h2>

    <div class="custom-select" data-id="gaPlayer">
        <div class="custom-display">Oyuncu SeÃ§</div>
        <div class="custom-options"></div>
    </div>

    <input id="gaGol" type="number" placeholder="Gol">
    <button class="btn" onclick="ekleGolAsist()">Kaydet</button>
</div>


<!-- KAZANAN YÃ–NETÄ°MÄ° -->
<!-- KAZANAN YÃ–NETÄ°MÄ° -->
<div id="kazananYonetim" class="page">

    <h2>Kazanan YÃ¶netimi</h2>

    <!-- KADRO OLUÅžTURDAKÄ°YLE AYNI GRID CLASS -->
    <div id="winnerPlayerGrid" class="player-grid"></div>

    <button id="winnerSaveBtn" onclick="kazananKaydet()" class="btn" style="margin-top:20px;">
        KazananlarÄ± Kaydet
    </button>

</div>




<script src="firebase.js"></script>
<script src="app.js"></script>

</body>
</html>
